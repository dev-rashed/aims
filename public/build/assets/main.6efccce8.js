function v(r){return r!=null?`${location.origin}/storage/${r}`:"https://picsum.photos/seed/picsum/200/300"}window.showUploadedFile=v;function b(r,f=2,m=".",c=","){var p=isFinite(+r)?+r:0,d=isFinite(+f)?Math.abs(f):0,u=typeof c>"u"?",":c,l=typeof m>"u"?".":m,t=function(o,a){var s=Math.pow(10,a);return Math.round(o*s)/s},e=(d?t(p,d):Math.round(p)).toString().split(".");e[0].length>3&&(e[0]=e[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,u)),(e[1]||"").length<d&&(e[1]=e[1]||"",e[1]+=new Array(d-e[1].length+1).join("0"));const n=$('input[name="currency_position"]').val(),i=JSON.parse($('input[name="currency"]').val());return n=="Before Amount"?i.symbol+e.join(l):e.join(l)+i.symbol}window.convertAmount=b;$(document).ready(function(){const r=$('meta[name="csrf-token"').attr("content");$.ajaxSetup({headers:{"X-CSRF-TOKEN":r}}),$(document).on("change",'input[type="file"]',function(t){let e=$(this).data("show-image");f(t,e)});const f=(t,e)=>{let n=t.target.files[0],i=new FileReader;i.onload=o=>{$(`#${e}`).attr("src",o.target.result)},i.readAsDataURL(n)};$(document).on("click","#logout",function(t){t.preventDefault();let e=$(this),n=$(this).attr("href");$.ajax({type:"POST",url:n,data:{_token:r},dataType:"JSON",beforeSend:function(){$(e).addClass("disabled")},success:function(i){location.reload()},complete:function(){$(e).addClass("disabled")},error:function(i){l(i)}})}),$(document).on("click","#addBtn, #editBtn, #showBtn, #approvedBtn",function(t){t.preventDefault();const e=$(this),n=$(this).attr("href");m(n,e)});function m(t,e){$("#form_modal").remove(),$.ajax({type:"GET",url:t,dataType:"HTML",beforeSend:function(){$(e).addClass("disabled")},success:function(n){$(".page-content").append(n),$("#form_modal").modal("show");const i=$(".single-select");i.length&&($.fn.modal.Constructor.prototype.enforceFocus=function(){},i.each(function(){$(this).select2({theme:"bootstrap4",width:$(this).data("width")?$(this).data("width"):$(this).hasClass("w-100")?"100%":"style",placeholder:"Select data",dropdownParent:$(this).parent()})})),intlTelInputInit()},complete:function(){$(e).removeClass("disabled")},error:function(n){l(n)}})}$(document).on("submit","form#submit",function(t){t.preventDefault();const e=$(this).attr("action"),n=$(this).data("redirect"),i=$(this).find('button[type="submit"]')[0],o=$(i).find("#submit-spinner")[0],a=$(this).serialize();c(e,a,i,o,n)}),$(document).on("submit","#fileForm",function(t){t.preventDefault();const e=$(this).attr("action"),n=$(this).data("redirect"),i=new FormData($(this)[0]),o=$(this).find('button[type="submit"]')[0],a=$(o).find("#submit-spinner")[0];c(e,i,o,a,n,!0)}),$(document).on("input","input.lectures__video_id",function(t){let e=$(this).siblings(".vimeo-container"),n=e.find("#items"),i=e.find("#loader"),o=$(this).data("url");console.log(t.target.value),t.target.value!==""?($(e).css("display","block"),$.ajax({type:"GET",url:`${o}?keyword=${t.target.value}`,dataType:"JSON",beforeSend:function(){$(i).removeClass("d-none")},success:function(a){let s="";a.length>0?$.each(a,function(y,h){s+=`<div class="vimeo-item" id="vimeo-item" data-uri="${h.uri}" data-duration="${h.duration}">${h.name}</div>`}):s+='<div class="vimeo-item text-center text-danger">Data not found</div>',$(n).html(s)},complete:function(){$(i).addClass("d-none")},error:function(a){l(a)}})):($(e).css("display","none"),$(n).empty())}),$(document).on("click","#vimeo-item",function(t){t.stopPropagation();let e=$(this).parent().parent(".vimeo-container"),n=e.siblings("input.lectures__video_id"),i=e.siblings("input.lectures__duration"),o=e.parent().parent().siblings("td").find("input.lectures__title"),a=$(this).data("uri");$(n).val(a.replace("/videos/","")),$(i).val($(this).data("duration")),$(o).val($(this).text()),$(e).css("display","none")}),$(document).click(function(){$(".vimeo-container").css("display","none")}),$(document).on("change","input#inActiveSwitch",function(t){let e=$(this).data("type");$.ajax({type:"POST",url:"/admin/neurologist/therapist/hide-profile",data:{_token:r,_method:"PUT",id:t.target.value,type:e,value:e=="hide_profile"?t.target.checked?0:1:t.target.checked?1:0},dataType:"JSON",success:n=>{table.ajax.reload()},error:n=>l(n)})});function c(t,e,n=null,i=null,o=null,a=!1){$(".form-control").removeClass("is-invalid"),$(".invalid-feedback").text(""),a==!1?$.ajax({type:"POST",url:t,data:e,dataType:"JSON",beforeSend:function(){$(n).addClass("disabled"),$(i).removeClass("d-none")},success:function(s){u(s,o)},complete:function(){$(n).removeClass("disabled"),$(i).addClass("d-none")},error:function(s){l(s)}}):$.ajax({type:"POST",url:t,data:e,dataType:"JSON",contentType:!1,enctype:"multipart/form-data",processData:!1,beforeSend:function(){$(n).addClass("disabled"),$(i).removeClass("d-none")},success:function(s){u(s,o)},complete:function(){$(n).removeClass("disabled"),$(i).addClass("d-none")},error:function(s){l(s)}})}$(document).on("click","#addItem",function(t){t.preventDefault();let e=$("#items").data("item");$("#items").append(e),p()}),$(document).on("click","#removeItem",function(t){t.preventDefault(),$(this).parent().parent().remove()});function p(){$("#items #item").each(function(t){$(this).find("input.name").attr("name",`items[${t}][name]`).attr("id",`items[${t}][name]`),$(this).find("input.image").attr("name",`items[${t}][image]`).attr("id",`items[${t}][image]`),$(this).find("textarea.description").attr("name",`items[${t}][description]`).attr("id",`items[${t}][description]`)}),tinymce.init({selector:".text-editor"})}$(document).on("click","#deleteBtn",function(t){t.preventDefault();var e=$(this).attr("href");d($(this),e)});function d(t,e,n=null){swal({title:"Are you sure?",text:"You won't be able to revert this!",type:"error",showCancelButton:!0,confirmButtonText:"Delete",padding:"2em"}).then(function(i){return i.value?($.ajax({type:"DELETE",url:e,data:{_method:"DELETE",_token:r},dataType:"JSON",beforeSend:function(){$(t).addClass("disabled")},success:function(o){u(o),n!=null&&$(n).remove()},complete:function(){$(t).removeClass("disabled")},error:function(o){l(o)}}),!0):!1})}function u(t,e=null){Lobibox.notify("success",{pauseDelayOnHover:!0,size:"mini",rounded:!0,icon:"bx bx-check-circle",delayIndicator:!1,continueDelayOnInactiveTab:!1,position:"top right",msg:t.message}),typeof e<"u"&&e!==null?window.location.replace(e):($(".modal").modal("hide"),typeof table<"u"&&table.ajax.reload())}function l(t){console.log(t);let e;return t.status===0?e="Not connected Please verify your network connection.":t.status===401?e=t.responseJSON.message||t.statusText:t.status===404?e="The requested data not found.":t.status===403?e="You are not allowed this action.":t.status===500?e="Internal Server Error.":t==="parsererror"?e="Requested JSON parse failed.":t==="timeout"?e="Requested Time out.":t==="abort"?e="Request aborted.":[300,301,302].includes(t.status)?e=t.responseJSON.message:t.status===422?($.each(t.responseJSON.errors,function(n,i){$("#invalid_"+n).text(i[0]),$("#"+n).addClass("is-invalid")}),e=t.responseJSON.message):e=t.statusText,Lobibox.notify("error",{pauseDelayOnHover:!0,size:"mini",rounded:!0,delayIndicator:!1,icon:"bx bx-x-circle",continueDelayOnInactiveTab:!1,position:"top right",msg:e}),!0}});
