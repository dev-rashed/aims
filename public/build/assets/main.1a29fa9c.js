function v(r){return r!=null?`${location.origin}/storage/${r}`:"https://picsum.photos/seed/picsum/200/300"}window.showUploadedFile=v;function y(r,u=2,f=".",c=","){var p=isFinite(+r)?+r:0,d=isFinite(+u)?Math.abs(u):0,l=typeof c>"u"?",":c,t=typeof f>"u"?".":f,e=function(a,s){var m=Math.pow(10,s);return Math.round(a*m)/m},n=(d?e(p,d):Math.round(p)).toString().split(".");n[0].length>3&&(n[0]=n[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,l)),(n[1]||"").length<d&&(n[1]=n[1]||"",n[1]+=new Array(d-n[1].length+1).join("0"));const o=$('input[name="currency_position"]').val(),i=JSON.parse($('input[name="currency"]').val());return o=="Before Amount"?i.symbol+n.join(t):n.join(t)+i.symbol}window.convertAmount=y;$(document).ready(function(){const r=$('meta[name="csrf-token"').attr("content");$.ajaxSetup({headers:{"X-CSRF-TOKEN":r}}),$(document).on("change",'input[type="file"]',function(t){let e=$(this).data("show-image");u(t,e)});const u=(t,e)=>{let n=t.target.files[0],o=new FileReader;o.onload=i=>{$(`#${e}`).attr("src",i.target.result)},o.readAsDataURL(n)};$(document).on("click","#logout",function(t){t.preventDefault();let e=$(this),n=$(this).attr("href");$.ajax({type:"POST",url:n,data:{_token:r},dataType:"JSON",beforeSend:function(){$(e).addClass("disabled")},success:function(o){location.reload()},complete:function(){$(e).addClass("disabled")},error:function(o){l(o)}})}),$(document).on("click","#addBtn, #editBtn, #showBtn, #approvedBtn",function(t){t.preventDefault();const e=$(this),n=$(this).attr("href");f(n,e)});function f(t,e){$("#form_modal").remove(),$.ajax({type:"GET",url:t,dataType:"HTML",beforeSend:function(){$(e).addClass("disabled")},success:function(n){$(".page-content").append(n),$("#form_modal").modal("show");const o=$(".single-select");o.length&&($.fn.modal.Constructor.prototype.enforceFocus=function(){},o.each(function(){$(this).select2({theme:"bootstrap4",width:$(this).data("width")?$(this).data("width"):$(this).hasClass("w-100")?"100%":"style",placeholder:"Select data",dropdownParent:$(this).parent()})})),intlTelInputInit()},complete:function(){$(e).removeClass("disabled")},error:function(n){l(n)}})}$(document).on("submit","form#submit",function(t){t.preventDefault();const e=$(this).attr("action"),n=$(this).data("redirect"),o=$(this).find('button[type="submit"]')[0],i=$(o).find("#submit-spinner")[0],a=$(this).serialize();c(e,a,o,i,n)}),$(document).on("submit","#fileForm",function(t){t.preventDefault();const e=$(this).attr("action"),n=$(this).data("redirect"),o=new FormData($(this)[0]),i=$(this).find('button[type="submit"]')[0],a=$(i).find("#submit-spinner")[0];c(e,o,i,a,n,!0)}),$(document).on("input","input#video_id",function(t){let e=$(this).siblings(".vimeo-container")[0],n=$(e).children("#items")[0],o=$(e).children("#loader")[0],i=$(this).data("url");t.target.value!==""?($(e).css("display","block"),$.ajax({type:"GET",url:`${i}?keyword=${t.target.value}`,dataType:"JSON",beforeSend:function(){$(o).removeClass("d-none")},success:function(a){let s="";a.length>0?$.each(a,function(m,h){s+=`<div class="vimeo-item" id="vimeo-item" data-uri="${h.uri}" data-duration="${h.duration}">${h.name}</div>`}):s+='<div class="vimeo-item text-center text-danger">Data not found</div>',$(n).html(s)},complete:function(){$(o).addClass("d-none")},error:function(a){l(a)}})):($(e).css("display","none"),$(n).empty())}),$(document).on("click","#vimeo-item",function(t){t.stopPropagation();let e=$(this).parent().parent(".vimeo-container")[0],n=$(e).siblings("input#video_id")[0],o=$(e).siblings("input#duration")[0],i=$(e).parent().parent().siblings("td").find("input#title")[0],a=$(this).data("uri");$(n).val(a.replace("/videos/","")),$(o).val($(this).data("duration")),$(i).val($(this).text()),$(e).css("display","none")}),$(document).click(function(){$(".vimeo-container").css("display","none")}),$(document).on("change","input#inActiveSwitch",function(t){let e=$(this).data("type");$.ajax({type:"POST",url:"/admin/neurologist/therapist/hide-profile",data:{_token:r,_method:"PUT",id:t.target.value,type:e,value:e=="hide_profile"?t.target.checked?0:1:t.target.checked?1:0},dataType:"JSON",success:n=>{table.ajax.reload()},error:n=>l(n)})});function c(t,e,n=null,o=null,i=null,a=!1){$(".form-control").removeClass("is-invalid"),$(".invalid-feedback").text(""),a==!1?$.ajax({type:"POST",url:t,data:e,dataType:"JSON",beforeSend:function(){$(n).addClass("disabled"),$(o).removeClass("d-none")},success:function(s){d(s,i)},complete:function(){$(n).removeClass("disabled"),$(o).addClass("d-none")},error:function(s){l(s)}}):$.ajax({type:"POST",url:t,data:e,dataType:"JSON",contentType:!1,enctype:"multipart/form-data",processData:!1,beforeSend:function(){$(n).addClass("disabled"),$(o).removeClass("d-none")},success:function(s){d(s,i)},complete:function(){$(n).removeClass("disabled"),$(o).addClass("d-none")},error:function(s){l(s)}})}$(document).on("click","#deleteBtn",function(t){t.preventDefault();var e=$(this).attr("href");p($(this),e)});function p(t,e,n=null){swal({title:"Are you sure?",text:"You won't be able to revert this!",type:"error",showCancelButton:!0,confirmButtonText:"Delete",padding:"2em"}).then(function(o){return o.value?($.ajax({type:"DELETE",url:e,data:{_method:"DELETE",_token:r},dataType:"JSON",beforeSend:function(){$(t).addClass("disabled")},success:function(i){d(i),n!=null&&$(n).remove()},complete:function(){$(t).removeClass("disabled")},error:function(i){l(i)}}),!0):!1})}function d(t,e=null){Lobibox.notify("success",{pauseDelayOnHover:!0,size:"mini",rounded:!0,icon:"bx bx-check-circle",delayIndicator:!1,continueDelayOnInactiveTab:!1,position:"top right",msg:t.message}),typeof e<"u"&&e!==null?window.location.replace(e):($(".modal").modal("hide"),typeof table<"u"&&table.ajax.reload())}function l(t){console.log(t);let e;return t.status===0?e="Not connected Please verify your network connection.":t.status===401?e=t.responseJSON.message||t.statusText:t.status===404?e="The requested data not found.":t.status===403?e="You are not allowed this action.":t.status===500?e="Internal Server Error.":t==="parsererror"?e="Requested JSON parse failed.":t==="timeout"?e="Requested Time out.":t==="abort"?e="Request aborted.":[300,301,302].includes(t.status)?e=t.responseJSON.message:t.status===422?($.each(t.responseJSON.errors,function(n,o){$("#invalid_"+n).text(o[0]),$("#"+n).addClass("is-invalid")}),e=t.responseJSON.message):e=t.statusText,Lobibox.notify("error",{pauseDelayOnHover:!0,size:"mini",rounded:!0,delayIndicator:!1,icon:"bx bx-x-circle",continueDelayOnInactiveTab:!1,position:"top right",msg:e}),!0}});
